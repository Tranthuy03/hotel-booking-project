<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{shared/layout}"
>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Profile</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
   
    /* Layout */
    .ep-app{ display:grid; grid-template-columns: 300px 1fr; min-height:100vh; gap:24px; padding:24px }
    .ep-sidebar{
      background:#ffffff;
      border-radius:24px;
      box-shadow:0 10px 30px rgba(15, 23, 42, 0.06);
      padding:22px 18px;
      display:flex; flex-direction:column; gap:18px;
    }
    .ep-content{ padding-right:4px }

    /* Sidebar profile */
    .ep-profile-card{ text-align:center; padding:18px 0 8px; position:relative }
    .ep-avatar{ width:108px; height:108px; margin:0 auto 12px; position:relative }
    .ep-avatar img{
      width:100%; height:100%; object-fit:cover; border-radius:50%;
      display:block; box-shadow: 0 6px 20px rgba(0,0,0,.08);
    }
    .ep-avatar-edit{
      position:absolute; right:2px; bottom:2px; border:0;
      width:28px; height:28px; border-radius:50%;
      background:#f28a00; color:#fff; display:grid; place-items:center;
      cursor:pointer; box-shadow: 0 6px 14px rgba(242,138,0,.35);
    }
    .ep-avatar-edit svg{ fill:#fff }
    .ep-name{ font-weight:700; font-size:1.05rem }
    .ep-role{ color:#6b7280; font-size:.9rem; margin-top:2px }

    /* Sidebar menu */
    .ep-menu{ display:flex; flex-direction:column; gap:6px; margin-top:10px }
    .ep-menu-item{
      display:flex; align-items:center; gap:10px;
      padding:12px 14px; border-radius:12px; color:#111827; text-decoration:none;
      transition:.2s ease background, .2s ease color;
    }
    .ep-menu-item:hover{ background:#f6f7fb }
    .ep-menu-item.active{
      background:#fff3e5; color:#0f172a; font-weight:600;
      position:relative;
    }
    .ep-menu-item .ep-dot{
      width:10px; height:10px; border-radius:50%; background:#f28a00;
      display:inline-block; box-shadow:0 0 0 3px rgba(242,138,0,.15);
    }
    .ep-menu-item svg{ fill:#9aa3b2 }

    /* Card */
    .ep-card{
      background:#ffffff;
      border-radius:24px;
      box-shadow:0 10px 30px rgba(15, 23, 42, 0.06);
      padding:24px;
    }
    .ep-card-header{
      display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom:8px;
    }
    .ep-card-header h1{ margin:0; font-size:1.35rem }
    .ep-gender{ display:flex; gap:18px }
    .ep-radio{ display:flex; align-items:center; gap:8px; color:#111827; font-weight:600 }
    .ep-radio input{
      appearance:none; width:18px; height:18px; border:2px solid #f28a00;
      border-radius:50%; display:grid; place-items:center; cursor:pointer;
    }
    .ep-radio input:checked{ background:radial-gradient(circle at center, #f28a00 45%, transparent 46%) }

    /* Form */
    .ep-form{ margin-top:10px }
    .ep-grid{
      display:grid; gap:18px;
      grid-template-columns: repeat(2, minmax(260px, 1fr));
    }
    .ep-field label{
      display:block; font-size:.9rem; color:#6b7280; margin-bottom:8px;
    }
    .ep-field input, .ep-select select{
      width:100%; height:48px; padding:0 14px; border-radius:14px;
      border:1px solid #eaecf0; background:#f8fafc; color:#111827;
      outline: none; transition: border .2s ease, box-shadow .2s ease, background .2s ease;
    }
    .ep-field input:focus, .ep-select select:focus{
      border-color: #f28a00;
      box-shadow: 0 0 0 4px rgba(242,138,0,.12);
      background:#fff;
    }

    /* Date input (calendar) */
    .ep-field input[type="date"]{
      font: inherit;
      color:#111827;
      background:#f8fafc;
    }
    .ep-field input[type="date"]::-webkit-calendar-picker-indicator{
      cursor: pointer;
      opacity: .7;
      padding: 4px;
      border-radius: 8px;
    }
    .ep-field input[type="date"]:hover::-webkit-calendar-picker-indicator{
      opacity: 1;
      background: #fff3e5;
    }

    /* Badge (Verified email) */
    .ep-input-addon{ position:relative }
    .ep-badge{
      position:absolute; right:8px; top:50%; transform:translateY(-50%);
      display:flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px;
      font-size:.8rem; font-weight:600;
    }
    .ep-badge.success{ background:#e9f9ee; color:#1b7a3c }
    .ep-badge.success svg{ fill:#1b7a3c }

    /* Actions */
    .ep-actions{
      display:flex; gap:14px; justify-content:flex-end; margin-top:18px;
      padding-top:10px; border-top:1px dashed #eaecf0;
    }
    .ep-btn{
      height:48px; min-width:180px; padding:0 18px; border-radius:14px;
      display:inline-flex; align-items:center; justify-content:center;
      font-weight:700; letter-spacing:.2px; cursor:pointer; border:2px solid transparent;
      transition: transform .06s ease, box-shadow .2s ease, background .2s ease, border .2s ease;
    }
    .ep-btn:active{ transform: translateY(1px) }
    .ep-btn-primary{
      background:#f28a00; color:#fff; box-shadow:0 10px 20px rgba(242,138,0,.28);
    }
    .ep-btn-primary:hover{ background:#e07600 }
    .ep-btn-ghost{
      background:#fff; color:#f28a00; border-color:#f28a00;
    }
    .ep-btn-ghost:hover{ background:#fff3e5 }

    /* Responsive */
    @media (max-width: 1100px){
      .ep-app{ grid-template-columns: 260px 1fr }
    }
    @media (max-width: 920px){
      .ep-app{ grid-template-columns: 1fr }
      .ep-sidebar{ order:2 }
      .ep-grid{ grid-template-columns: 1fr }
      .ep-actions{ justify-content:stretch }
      .ep-btn{ flex:1 }
    }
  </style>
</head>
<body>
    <div layout:fragment="content">
        <div th:replace="shared/carousel :: carousel"></div>
        <div class="ep-app">
            <!-- Sidebar -->
            <aside class="ep-sidebar">
            <div class="ep-profile-card">
                <div class="ep-avatar">
                <img th:src="@{'/img/' + ${session.loggedUser.avatarUrl}}" alt="User avatar">
                <button class="ep-avatar-edit" title="Đổi ảnh">
                    <svg viewBox="0 0 24 24" width="14" height="14" aria-hidden="true">
                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a1.003 1.003 0 0 0 0-1.42l-2.34-2.34a1.003 1.003 0 0 0-1.42 0l-1.83 1.83 3.75 3.75 1.84-1.82z"/>
                    </svg>
                </button>
                </div>
                <div class="ep-name" th:text="${user.firstName} + ' ' + ${user.lastName}">Roland Donald</div>
                <div class="ep-role">Cashier</div>
            </div>

            <nav class="ep-menu">
                <a class="ep-menu-item active" th:href="@{/profile}">
                <span class="ep-dot"></span>
                Personal Information
                </a>
                <!-- <a class="ep-menu-item" href="#">
                <svg viewBox="0 0 24 24" width="16" height="16"><path d="M12 17a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm6-6h-1V9a5 5 0 0 0-10 0v2H6a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2zm-3 0H9V9a3 3 0 0 1 6 0v2z"/></svg>
                <span>Login &amp; Password</span>
                </a> -->
                <!-- <a class="ep-menu-item" href="#">
                <svg viewBox="0 0 24 24" width="16" height="16"><path d="M10 17l1.41-1.41L8.83 13H21v-2H8.83l2.58-2.59L10 7l-5 5 5 5zM4 5h6V3H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6v-2H4V5z"/></svg>
                <span>Log Out</span>
                </a> -->
            </nav>
            </aside>

            <!-- Main -->
            <main class="ep-content">
            <section class="ep-card">
                <header class="ep-card-header">
                <h1>Personal Information</h1>
                <!-- <div class="ep-gender">
                    <label class="ep-radio">
                    <input type="radio" name="gender" checked>
                    <span>Male</span>
                    </label>
                    <label class="ep-radio">
                    <input type="radio" name="gender">
                    <span>Female</span>
                    </label>
                </div> -->
                </header>

                <form class="ep-form" th:action="@{/profile/update}" method="post" th:object="${user}">
                  <input type="hidden" th:field="*{userId}"/>
                  <div class="ep-grid">
                      <div class="ep-field">
                      <label for="firstName">First Name</label>
                      <input id="firstName" type="text" th:field="*{firstName}"/>
                      </div>

                      <div class="ep-field">
                      <label for="lastName">Last Name</label>
                      <input id="lastName" type="text" th:field="*{lastName}" />
                      </div>

                      <div class="ep-field">
                      <label for="email">Email</label>
                      <div class="ep-input-addon">
                          <input id="email" type="email" th:field="*{email}" readonly/>
                          <span class="ep-badge success">
                          <svg viewBox="0 0 24 24" width="14" height="14"><path d="M9 16.2l-3.5-3.5-1.4 1.4L9 19 20.3 7.7l-1.4-1.4z"/></svg>
                          Verified
                          </span>
                      </div>
                      </div>

                      <div class="ep-field">
                      <label for="address">Address</label>
                      <input id="address" type="text" th:field="*{address}" />
                      </div>

                      <div class="ep-field">
                      <label for="phone">Phone Number</label>
                      <input id="phone" type="tel" th:field="*{phone}" />
                      </div>

                      <!-- <div class="ep-field">
                      <label for="dob">Date of Birth</label>
                      <input id="dob" type="date" value="1995-02-01" />
                      </div> -->

                  



                  </div>

                  <div class="ep-actions">
                      <button type="reset" class="ep-btn ep-btn-ghost">Discard Changes</button>
                      <button type="submit" class="ep-btn ep-btn-primary">Save Changes</button>
                  </div>
                </form>
            </section>
            </main>
        </div>
    </div>
</body>
</html>